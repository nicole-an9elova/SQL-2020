--1st
CREATE TRIGGER UPDATE_COPIES_IN_STOCK
	AFTER INSERT ON FN71871.N7_SHOPPING_CART
	REFERENCING NEW AS N
	FOR EACH ROW
	CALL FN71871.COURSE_PROJECT.UPDATE_BOOK_STOCK(N.BOOK_ISBN, N.QUANTITY);
	
INSERT INTO FN71871.N7_SHOPPING_CART (CUSTOMER_ID, BOOK_TITLE, BOOK_ISBN, PRICE, QUANTITY)
VALUES ('9875851', 'It', '9781982127794', 17.99, 2);


DELETE FROM FN71871.N7_SHOPPING_CART WHERE customer_id = '9875851';
--2nd
CREATE TRIGGER UPDATE_BOOKS_IN_A_CAT
	AFTER INSERT ON FN71871.N5_BOOK
	REFERENCING NEW AS N
	FOR EACH ROW
	CALL FN71871.COURSE_PROJECT.UPDATE_BOOKS_IN_A_CATEGORY(N.GENRE_ID);
	

INSERT INTO N5_BOOK
VALUES ('9780063072565', 'Just As I Am', 'Cicely Tyson', 'Barnes & Noble', '25', 'Bulgarian', 432,
										 DATE '2021-01-26', 0, 'N', 28.99, '00007', '000050');

--3rd 
CREATE TRIGGER UPDATE_BONUS_ACCORDINGLY
	AFTER UPDATE ON FN71871.N2_EMPLOYEE
	REFERENCING NEW AS N OLD AS O
	FOR EACH ROW
		WHEN (N.SALARY <> O.SALARY)
			UPDATE FN71871.N2_EMPLOYEE
			SET BONUS = BONUS + (N.BONUS / 4.0)
			WHERE N.EMP_ID = EMP_ID;

--пример е, когато демонстрирам извикването на UPDATE_MONTHLY_SALARY
			
	